<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body style="margin:0; padding:0; background:#f4f4f4; font-family:Helvetica, Arial, sans-serif; color:#333;">
  <table width="100%" cellpadding="0" cellspacing="0" style="padding:20px 0;">
    <tr>
      <td align="center">
        <table width="600" cellpadding="0" cellspacing="0" style="background:#ffffff; border-radius:8px; overflow:hidden;">
          <tr>
            <td align="center" style="padding:20px 20px 10px 20px; border-bottom:1px solid #ddd;">
              <img src="https://raw.githubusercontent.com/rafa-garcia/padel-alert/main/assets/images/logo.png" alt="PadelAlert" style="height:50px; display:block; margin-bottom:10px;" />
              <h1 style="margin:0; font-size:22px; color:#d6453c;">New Padel Activities Available</h1>
            </td>
          </tr>
          <tr>
            <td style="padding:20px;">
              {{if .User.Name}}
              <p style="font-size:18px; margin:0 0 10px 0;"><strong>Vamos {{.User.Name}}!</strong> Your padel updates are here üéæ</p>
              {{end}}
              <p style="font-size:16px; margin-top:0;">Your search "<strong>{{.Rule.Name}}</strong>" found <strong>{{len .Activities}}</strong> new activities:</p>

              {{range .Activities}}
              <table width="100%" cellpadding="0" cellspacing="0" style="margin:20px 0; border:1px solid #eee; border-radius:6px; background:#fcfcfc;">
                <tr>
                  <td style="padding:15px;">
                    <table width="100%" cellpadding="0" cellspacing="0">
                      <tr>
                        <!-- Date block -->
                        <td valign="top" width="90" style="background:#f2f5f9; text-align:center; padding:10px; border-radius:4px; font-size:13px; color:#333;">
                          <div style="line-height:1.5;">
                            <p style="margin:0; font-weight:bold;">{{formatDayOfWeek .StartDate}}</p>
                            <p style="margin:0; font-size:16px; font-weight:bold;">{{formatDay .StartDate}} {{formatMonth .StartDate}}</p>
                            <p style="margin:0;">{{formatTime .StartDate}}</p>
                          </div>
                        </td>

                        <!-- Details block -->
                        <td style="padding-left:15px;">
                          <table width="100%" cellpadding="0" cellspacing="0">
                            <tr>
                              <td style="font-size:17px; font-weight:bold; color:#222;">{{.Name}}</td>
                            </tr>
                            <tr>
                              <td style="padding:6px 0;">
                                <span style="display:inline-block; background:#e0ecf9; color:#2b5dab; padding:4px 10px; font-size:12px; border-radius:999px;">Duration: {{formatDuration .StartDate .EndDate}}</span>
                                <span style="display:inline-block; background:#fde4d1; color:#b65d1a; padding:4px 10px; font-size:12px; border-radius:999px; margin-left:6px;">{{.AvailablePlaces}} {{if eq .AvailablePlaces 1}}Spot{{else}}Spots{{end}}</span>
                              </td>
                            </tr>
                            <tr>
                              <td style="font-size:14px; color:#555; padding:2px 0;">üìç <strong>{{.Club.Name}}</strong></td>
                            </tr>
                            <tr>
                              <td style="font-size:14px; color:#555; padding:2px 0;">üí∞ <strong>{{.Price}}</strong></td>
                            </tr>
                            <tr>
                              <td style="font-size:14px; color:#555; padding:2px 0;">üåü Level: {{formatLevel .MinLevel}} - {{formatLevel .MaxLevel}}</td>
                            </tr>
                            <tr>
                              <td style="padding-top:10px;">
                                <a href="{{.Link}}" target="_blank" style="display:inline-block; background:#d6453c; color:#fff; text-decoration:none; padding:10px 16px; border-radius:4px; font-weight:bold; font-size:14px;">View & Book</a>
                              </td>
                            </tr>
                          </table>
                        </td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
              {{end}}

              <p style="font-size:14px; text-align:center; color:#999; margin-top:40px;">Powered by PadelAlert</p>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
